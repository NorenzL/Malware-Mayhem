using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;
using UnityEngine.UI;
using static UnityEditor.Timeline.TimelinePlaybackControls;

public class CoinCounter : MonoBehaviour
{
    public static CoinCounter instance;
    public GameObject coinText;

    [SerializeField]
    private playerDataSo playerDataSo;
    

    private void Awake()
    {
        instance = this;
        coinText = GameObject.Find("Coins");
    }
    void Start()
    {

        if (playerDataSo != null)
        {
           
            int currentSceneIndex = SceneManager.GetActiveScene().buildIndex;

            if(currentSceneIndex == 1)
            {
                coinText.GetComponent<Text>().text = playerDataSo.coinAmount.ToString();
            }
            else
            {
                coinText.GetComponent<Text>().text = playerDataSo.currentCollectedCoin.ToString();
            }
        }

    }

    public void IncreaseCoins(int v)
    {
        playerDataSo.currentCollectedCoin += v;
        coinText.GetComponent<Text>().text = playerDataSo.currentCollectedCoin.ToString();

    }

    public void DecreaseCoins(int v)
    {
        playerDataSo.currentCollectedCoin -= v;
        coinText.GetComponent<Text>().text = playerDataSo.currentCollectedCoin.ToString();
    }

}
