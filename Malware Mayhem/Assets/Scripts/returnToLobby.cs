using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.SceneManagement;

public class returnToLobby : MonoBehaviour
{
    [SerializeField]
    private playerDataSo playerDataSo;

    public Button retry, returnLobby;
    public void returnLobbyButton()
    {
        if (playerDataSo != null)
        {
            playerDataSo.playerLifeCount = playerDataSo.maxLifePoint;
            playerDataSo.healthPoint = playerDataSo.maxHealthPoint;
            playerDataSo.currentCollectedCoin = 0;
            SceneManager.LoadScene(1);
        }
           

    }

    public void RetryButton()
    {
        if(playerDataSo != null)
        {
            playerDataSo.playerLifeCount = playerDataSo.maxLifePoint;
            playerDataSo.healthPoint = playerDataSo.maxHealthPoint;
            playerDataSo.currentCollectedCoin = 0;
            Scene currentScene = SceneManager.GetActiveScene();
            int currentSceneIndex = currentScene.buildIndex;
            int currentLevelIndex = (currentSceneIndex - 2) / 4 + 1; // Assuming level scenes start at index 2
            int firstSceneOfCurrentLevel = (currentLevelIndex - 1) * 4 + 2;

            
            SceneManager.LoadScene(firstSceneOfCurrentLevel);
        }
       
    }
   
}
