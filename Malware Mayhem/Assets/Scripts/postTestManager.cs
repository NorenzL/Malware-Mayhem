using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class postTestManager : MonoBehaviour
{
    public GameObject[] Quizzes;
    public GameObject ResultPane;
    public GameObject ScoreText;
    public int score = 0;
    int currentQuiz;

    void Awake()
    {
    }

    public void correctAns()
    {
        score++;
        if (currentQuiz + 1 != Quizzes.Length)
        {
            Quizzes[currentQuiz].SetActive(false);

            currentQuiz++;
            Quizzes[currentQuiz].SetActive(true);
        }
        else
        {
            Quizzes[currentQuiz].SetActive(false);
            resultPage();
        }
    }

    public void wrongAns()
    {
        if (currentQuiz + 1 != Quizzes.Length)
        {
            Quizzes[currentQuiz].SetActive(false);

            currentQuiz++;
            Quizzes[currentQuiz].SetActive(true);
        }
        else
        {
            Quizzes[currentQuiz].SetActive(false);
            resultPage();
        }
    }

    public void resultPage()
    {
        ResultPane.SetActive(true);
        ScoreText.GetComponent<Text>().text = score + " / 10";
        StartCoroutine(Main.Instance.Web.updatePostTestScore(score));
    }
}
